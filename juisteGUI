from tkinter import *
from tkinter.messagebox import showinfo

points = 25

global pointCount
global playerName

def toonLoginFrame():
    'Dit is het beginscherm'
    hoofdframe.pack_forget()
    loginframe.pack()

def toonHoofdFrame():
    'Dit is het spelscherm'
    loginframe.pack_forget()
    hoofdframe.pack()

def login():
    'Vraagt om de spelernaam'
    global playerName
    playerName = loginfield.get()
    toonHoofdFrame()


def highscore():
    'Pop-up met de highscore'
    bericht = 'Highscore hier!'
    showinfo(title='popup', message=bericht)

def showpoints(destroy = False):
    'Laat de puntentelling zien op het spelscherm'
    T.pack_forget()
    global pointCount
    if destroy:
        pointCount.pack_forget()
    pointCount = Text(root, height=2, width=30)
    pointCount.pack()
    pointCount.insert(END, "Punten: {}".format(points))
    pointCount.config(state=DISABLED)
    pointCount.tag_configure("center", justify='center')
    pointCount.tag_add("center", 1.0, "end")


def puntenaftrek():
    global points
    if points >= 3:
        points -= 3
    elif points == 2:
        points -= 2
    elif points == 1:
        points -= 1

def checkpoints(points):
    if points <= 0:
        points = 0
        showpoints(True)
        bericht = 'Je bent af!\n{} is geÃ«indigd met {} punten!'.format(playerName, points)
        showinfo(title='popup', message=bericht)
        root.destroy()


def textweg():
    'Haalt de introtekst weg wanneer je naar het spelscherm gaat'
    T.pack_forget()

root = Tk()
T = Text(root, height=2, width=30)
T.pack()
T.insert(END, "Vul je naam in")
T.config(state=DISABLED)
T.tag_configure("center", justify='center')
T.tag_add("center", 1.0, "end")

#Code voor het beginscherm
loginframe = Frame(master=root)
loginframe.pack(fill="both", expand=True)
loginfield = Entry(master=loginframe)
loginfield.pack(padx=20, pady=20)
loginbutton = Button(master=loginframe, text='Start', command=lambda:[login(),textweg(),showpoints()])
loginbutton.pack(side=LEFT, padx=20, pady=20)
loginbutton = Button(master=loginframe, text='View Highscore', command=highscore)
loginbutton.pack(side=RIGHT, padx=20, pady=20)

#Code voor het spelscherm
plaatje = PhotoImage(file='1.gif')
label = Label(image=plaatje)
label.image = plaatje
label.pack()
hoofdframe = Frame(master=root)
loginfield = Entry(master=hoofdframe, text='API call hier')
loginfield.pack(padx=20, pady=20)
hoofdframe.pack(fill="both", expand=True)
hintbutton = Button(master=hoofdframe, text='Nieuwe hint (-3 punten!)', command=lambda:[puntenaftrek(),showpoints(True),checkpoints(points)])
hintbutton.pack(side=LEFT, padx=20, pady=20)



toonLoginFrame()
root.mainloop()
